[www]
user  = nginx
group = nginx

; FPM listens on port 9000 (Nginx connects via TCP)
listen = 0.0.0.0:9000

; -------- Process Manager -----------------------------
; For 1–2 vCPUs & ≤512 MB RAM, this is sufficient:
pm               = dynamic
pm.max_children  = 8
pm.start_servers = 2
pm.min_spare_servers = 1
pm.max_spare_servers = 4

; -------- PHP Limits ----------------------------------
php_admin_value[memory_limit]      = 256M
php_admin_value[post_max_size]     = 64M
php_admin_value[upload_max_filesize] = 64M
php_admin_value[max_execution_time] = 120

; -------- Opcache (important for performance) ---------
php_admin_value[opcache.enable]     = 1
php_admin_value[opcache.memory_consumption] = 128
php_admin_value[opcache.max_accelerated_files] = 10000
php_admin_value[opcache.validate_timestamps]  = 0