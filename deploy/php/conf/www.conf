[www]
user  = www-data
group = www-data

; FPM lauscht auf Port 9000 (Nginx verbindet per TCP)
listen = 0.0.0.0:9000

; -------- Prozess-Manager -----------------------------
; Für 1–2 vCPU & ≤512 MB RAM reicht das:
pm               = dynamic
pm.max_children  = 8
pm.start_servers = 2
pm.min_spare_servers = 1
pm.max_spare_servers = 4

; -------- PHP-Limits ----------------------------------
php_admin_value[memory_limit]      = 256M
php_admin_value[post_max_size]     = 64M
php_admin_value[upload_max_filesize] = 64M
php_admin_value[max_execution_time] = 120

; -------- Opcache (wichtig für Performance) -----------
php_admin_value[opcache.enable]     = 1
php_admin_value[opcache.memory_consumption] = 128
php_admin_value[opcache.max_accelerated_files] = 10000
php_admin_value[opcache.validate_timestamps]  = 0